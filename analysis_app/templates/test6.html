<!DOCTYPE HTML>
<html>
<head>
    <meta charset="UTF-8">
</head>
<body>
    <div id="chartContainer" style="height: 300px; width: 100%;">
    </div>
    <script type="text/javascript">

window.onload = function () {
    function getData() {
        $.getJSON("http://localhost:8000/dg6data/", function(data) {
            var dataPoints = [];
            $.each(data, function(key, value){
                dataPoints.push({ label : value.label, y: value.y});
            });
        var chart = new CanvasJS.Chart("chartContainer", {
            animationEnabled: true,
            theme: "light2", // "light1", "light2", "dark1", "dark2"
            title:{
                text: "아이 현재 감정 상태"
            },
            axisY: {
                title: "Sentiment"
            },
            data: [{
                type: "column",
                showInLegend: true,
                legendMarkerColor: "grey",
                legendText: "감정상태",
                dataPoints: dataPoints
            }]
            });
            chart.render();
        });
    }
    setTimeout(getData, 2000);
}


</script>
<script type="text/javascript" src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>
<script src="http://code.jquery.com/jquery-3.5.1.min.js"></script>
</body>
</html>
